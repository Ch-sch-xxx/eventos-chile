<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Eventos Chile · Mi Perfil</title>
    <link rel="stylesheet" href="css/style_perfil_usuario.css">
    <link rel="stylesheet" href="css/responsividadGeneral.css">
</head>
<body>

<header>
    <h1>Eventos Chile</h1>
    <nav>
        <ul>
            <li><a href="eventos.html">Eventos</a></li>
            <li><a href="gestion_admin.html">Panel Usuario</a></li>
            <li><a href="#" id="cerrar-sesion">Cerrar sesión</a></li>
        </ul>
    </nav>
</header>

<!-- principal del perfil -->
<section id="perfil-hero">
    <div class="imagen-container">
        <img src="imagenes/ICONOperfil.png" alt="Foto de perfil" class="imagen-perfil" id="imagen-perfil-display">
        <input type="file" id="input-cambiar-foto" accept="image/*" style="display: none;">
        <button class="btn-cambiar-foto" id="btn-cambiar-foto">Cambiar foto</button>
    </div>
    <div class="info-basica">
        <h2 id="nombre-usuario">Cargando...</h2>
        <p id="correo-usuario">Cargando...</p>
        <span class="badge-rol" id="rol-usuario">Usuario</span>
    </div>
</section>


    <!-- Información actual del usuario (vista) -->
    <section id="datos-actuales">
        <h2>Mi Información Actual</h2>
        <div class="vista-datos">
            <div class="dato-item">
                <strong>Nombre:</strong> <span id="vista-nombre">Cargando...</span>
            </div>
            <div class="dato-item">
                <strong>Email:</strong> <span id="vista-correo">Cargando...</span>
            </div>
            <div class="dato-item">
                <strong>RUT:</strong> <span id="vista-rut">No registrado</span>
            </div>
            <div class="dato-item">
                <strong>Región:</strong> <span id="vista-region">No registrada</span>
            </div>
            <div class="dato-item">
                <strong>Comuna:</strong> <span id="vista-comuna">No registrada</span>
            </div>
        </div>
        <button class="btn-editar" id="btn-editar-perfil">Editar mi información</button>
    </section>

    <!-- Formulario OCULTO editar -->
    <section id="datos-perfil" class="oculto">
        <h2>Editar Mi Información</h2>

        <form id="form-perfil" class="formulario-perfil">
            <div class="grupo-campos">
                <label for="nombre">Nombre completo</label>
                <input type="text" id="nombre" required placeholder="Tu nombre completo">

                <label for="correo">Email</label>
                <input type="email" id="correo" required placeholder="ejemplo@correo.cl">

                <label for="rut">RUT chileno (No modificable)</label>
                <input type="text" id="rut" readonly placeholder="12345678-9" maxlength="12"
                       style="background-color: #f5f5f5; cursor: not-allowed;">
                <small class="ayuda-texto">El RUT no puede modificarse una vez registrado</small>

            </div>

            <div class="grupo-campos">
                <label for="region">Región</label>
                <select id="region" required>
                    <option value="">Selecciona región</option>
                    <!-- se cargan dinámicamente -->
                </select>

                <label for="comuna">Comuna</label>
                <select id="comuna" required>
                    <option value="">Selecciona comuna</option>
                    <!-- se cargan según región -->
                </select>
            </div>

            <div class="botones-formulario">
                <button type="submit" class="btn-guardar">Guardar cambios</button>
                <button type="button" class="btn-cancelar" id="btn-cancelar">Cancelar</button>
            </div>
        </form>
    </section>

    <!-- Mis eventos creados (solo si es admin o usuario con eventos creados) -->
    <section id="mis-eventos">
        <h2 id="titulo-eventos">Mis Eventos Creados</h2>
        <div class="lista-eventos-perfil" id="lista-eventos-perfil">
            <!-- se cargan dinámicamente según eventos creados por el usuario -->
        </div>
    </section>

    <!-- Estadísticas básicas -->
    <section id="stats-usuario">
        <h2>Mis Estadísticas</h2>
        <div class="contenedor-stats">
            <div class="stat-card">
                <span class="numero-stat" id="eventos-creados">0</span>
                <span class="label-stat">Eventos creados</span>
            </div>
            <div class="stat-card" id="stat-usuarios">
                <span class="numero-stat" id="total-usuarios">0</span>
                <span class="label-stat">Usuarios registrados</span>
            </div>
        </div>
    </section>

    <!-- Acciones rápidas -->
    <section id="acciones-rapidas">
        <h2>Acciones Rápidas</h2>
        <div class="botones-accion">
            <a href="gestor_eventos.html" class="btn-accion">✏️ Gestionar mis eventos</a>
            <a href="eventos.html" class="btn-accion">🌟 Ver todos los eventos</a>
            <a href="index.html" class="btn-accion">🏠 Ir al inicio</a>
        </div>
    </section>

</main>

<footer>
    <p id="contacto">Contacto: <a id="mail" href="mailto:eventoschile@gmail.com">eventoschile@gmail.com</a></p>
    <p><a id="Ftnosotros" href="index.html">Acerca de Nosotros</a></p>
</footer>

<!-- Scripts  -->
<script src="js/perfil_usuario.js"></script>

</body>
</html>
