<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Panel Administrador · Eventos Chile</title>
    <!-- Bootstrap CSS, estilos base y responsividad -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style_gestion_admin.css">
</head>
<body>

<!-- Navbar: barra de navegación superior con Bootstrap -->
<header class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, #2D3748 0%, #4A5568 100%); min-height: 80px;">
    <div class="container-fluid px-4"> <!-- contenedor para centrar y espaciar -->
        <h1 class="navbar-brand mb-0 fw-bold" id="h1_titulo">Mi Gestor · Eventos Chile</h1> <!-- título -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navegacionPrincipal">
            <span class="navbar-toggler-icon"></span> <!-- icono móvil -->
        </button>
        <nav class="collapse navbar-collapse justify-content-end" id="navegacionPrincipal">
            <ul class="navbar-nav gap-2">
                <li class="nav-item">
                    <a class="nav-link px-3 py-2 rounded-pill" href="eventos.html">Eventos</a> <!-- eventos -->
                </li>
                <li class="nav-item">
                    <a class="nav-link px-3 py-2 rounded-pill" href="perfil_admin.html" id="enlace-perfil">Mi Perfil</a> <!-- perfil -->
                </li>
                <li class="nav-item">
                    <a class="nav-link px-3 py-2 rounded-pill" href="#" id="cerrar-sesion">Cerrar sesión</a> <!-- logout -->
                </li>
            </ul>
        </nav>
    </div>
</header>

<!-- Layout principal: sidebar + contenido usando Bootstrap grid -->
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar: barra lateral con opciones -->
        <aside class="col-lg-2 col-md-3 sidebar bg-light border-end p-4">
            <h2 class="h5 mb-3 fw-bold text-dark">Eventos</h2>
            <ul class="nav flex-column gap-2">
                <li class="nav-item">
                    <a href="#" id="nav-crear" class="nav-link text-dark px-3 py-2 rounded">Crear Evento</a>
                </li>
                <li class="nav-item">
                    <a href="#" id="nav-listar" class="nav-link text-dark px-3 py-2 rounded active" aria-current="page">Listar Eventos</a>
                </li>
            </ul>
        </aside>

        <!-- Contenido principal: formularios y tabla -->
        <main class="col-lg-10 col-md-9 admin-content p-4">

            <!-- Sección: Crear Evento (oculta inicialmente) -->
            <section id="crear-evento" class="oculto">
                <div class="row justify-content-center">
                    <div class="col-xl-10">
                        <div class="card border-0 shadow-lg mb-4">
                            <div class="card-body p-4">
                                <h2 class="card-title h3 mb-4 text-center fw-bold">Crear Evento</h2>

                                <form id="form-crear">
                                    <div class="row g-3"> <!-- grid de 2 columnas con gap -->

                                        <!-- Columna 1 -->
                                        <div class="col-md-6">
                                            <label for="titulo" class="form-label">Título</label>
                                            <input id="titulo" type="text" class="form-control" required minlength="3" placeholder="Nombre del evento">
                                        </div>

                                        <div class="col-md-6">
                                            <label for="fecha" class="form-label">Fecha</label>
                                            <input id="fecha" type="date" class="form-control" required>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="lugar" class="form-label">Lugar</label>
                                            <input id="lugar" type="text" class="form-control" required placeholder="Ubicación del evento">
                                        </div>

                                        <div class="col-md-6">
                                            <label for="tipo" class="form-label">Tipo</label>
                                            <select id="tipo" class="form-select" required>
                                                <option value="">Selecciona tipo</option>
                                                <option>Presencial</option>
                                                <option>Streaming</option>
                                                <option>Consumo</option>
                                            </select>
                                        </div>

                                        <!-- Columna 2 -->
                                        <div class="col-md-6">
                                            <label for="imagen" class="form-label">URL Imagen</label>
                                            <input id="imagen" type="url" class="form-control" placeholder="https://..." required>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="capacidad" class="form-label">Capacidad</label>
                                            <input id="capacidad" type="number" class="form-control" min="1" placeholder="100">
                                        </div>

                                        <div class="col-md-6">
                                            <label for="precio" class="form-label">Precio</label>
                                            <input id="precio" type="text" class="form-control" placeholder="Gratis o $5000">
                                        </div>

                                        <div class="col-md-6">
                                            <label for="descripcion" class="form-label">Descripción</label>
                                            <textarea id="descripcion" rows="3" class="form-control" placeholder="Detalles del evento"></textarea>
                                        </div>

                                        <!-- Botón centrado en toda la fila -->
                                        <div class="col-12 text-center mt-4">
                                            <button type="submit" class="btn btn-primary px-5 py-2 fw-bold">Crear Evento</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección: Listar Eventos (visible por defecto) -->
            <section id="listar-eventos">
                <div class="card border-0 shadow-lg">
                    <div class="card-body p-4">
                        <h2 class="card-title h3 mb-4 text-center fw-bold">Mis Eventos</h2>

                        <!-- Tabla responsive con Bootstrap -->
                        <div class="table-responsive">
                            <table class="table table-hover table-striped align-middle">
                                <thead class="table-dark">
                                <tr>
                                    <th>#</th>
                                    <th>Imagen</th>
                                    <th>Título</th>
                                    <th>Fecha</th>
                                    <th>Lugar</th>
                                    <th>Tipo</th>
                                    <th>Acciones</th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- Aquí JS genera las filas dinámicamente -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>
</div>

<!-- Modal detalle evento usando Bootstrap -->
<div id="modal-detalle" class="modal fade" tabindex="-1" aria-labelledby="modalDetalleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h3 class="modal-title fw-bold" id="modalDetalleLabel">Detalle del Evento</h3>
                <button type="button" class="btn-close" id="cerrar-modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body text-center">
                <img id="detalle-img" src="" alt="Imagen Evento" class="img-fluid rounded shadow-sm mb-3" style="max-width: 300px;">
                <h4 id="detalle-titulo" class="fw-bold mb-3"></h4>
                <div class="text-start">
                    <p class="mb-2"><strong>📅 Fecha:</strong> <span id="detalle-fecha"></span></p>
                    <p class="mb-2"><strong>📍 Lugar:</strong> <span id="detalle-lugar"></span></p>
                    <p class="mb-2"><strong>🎭 Tipo:</strong> <span id="detalle-tipo"></span></p>
                    <p class="mb-2"><strong>📋 Descripción:</strong> <span id="detalle-descripcion"></span></p>
                    <p class="mb-2"><strong>👥 Capacidad:</strong> <span id="detalle-capacidad"></span></p>
                    <p class="mb-2"><strong>💰 Precio:</strong> <span id="detalle-precio"></span></p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- Pie de página con info de contacto -->
<footer class="mt-5 py-4 text-white" style="background: linear-gradient(135deg, #2D3748 0%, #4A5568 100%);">
    <div class="container text-center">
        <p class="mb-2" id="contacto">
            Contacto:
            <a id="mail" href="mailto:eventoschile@gmail.com" class="text-info text-decoration-none">
                eventoschile@gmail.com
            </a>
        </p>
        <p class="mb-0">
            <a id="Ftnosotros" href="index.html" class="text-info text-decoration-none">
                Acerca de Nosotros
            </a>
        </p>
    </div>
</footer>

<!-- JavaScript de CRUD y gestión admin -->
<script src="js/crud_eventos.js"></script>
<script src="js/gestion_admin.js"></script>
<!-- Bootstrap JS para navbar responsive y modal -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
