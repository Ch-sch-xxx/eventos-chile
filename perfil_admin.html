<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Eventos Chile · Mi Perfil</title>
    <link rel="stylesheet" href="css/style_perfil_admin.css">
    <link rel="stylesheet" href="css/responsividadGeneral.css">
</head>
<body>

<header>
    <h1>Eventos Chile</h1>
    <nav>
        <ul>
            <li><a href="gestion_admin.html" id="enlace-admin">Panel Admin</a></li>
            <li><a href="#" id="cerrar-sesion">Cerrar sesión</a></li>
        </ul>
    </nav>
</header>

<main>
    <section id="perfil-hero">
        <div class="imagen-container">
            <img src="imagenes/ICONOperfil.png" alt="Foto de perfil" class="imagen-perfil">
            <button class="btn-cambiar-foto">Cambiar foto</button>
        </div>
        <div class="info-basica">
            <h2 id="nombre-usuario">Cargando...</h2>
            <p id="correo-usuario">Cargando...</p>
            <span class="badge-rol" id="rol-usuario">Usuario</span>
        </div>
    </section>

    <!-- Sección de datos VISIBLES (antes del formulario editable) -->
    <section id="datos-actuales">
        <h2>Mi Información Actual</h2>
        <div class="vista-datos">
            <div class="dato-item">
                <strong>Nombre:</strong> <span id="vista-nombre">Cargando...</span>
            </div>
            <div class="dato-item">
                <strong>Email:</strong> <span id="vista-correo">Cargando...</span>
            </div>
            <div class="dato-item">
                <strong>RUT:</strong> <span id="vista-rut">No registrado</span>
            </div>
            <div class="dato-item">
                <strong>Región:</strong> <span id="vista-region">No registrada</span>
            </div>
            <div class="dato-item">
                <strong>Comuna:</strong> <span id="vista-comuna">No registrada</span>
            </div>
        </div>
        <button class="btn-editar" id="btn-editar-perfil">Editar mi información</button>
    </section>

    <!-- Formulario OCULTO inicialmente -->
    <section id="datos-perfil" class="oculto">
        <h2>Mi Información</h2>

        <form id="form-perfil" class="formulario-perfil">
            <div class="grupo-campos">
                <label for="nombre">Nombre completo</label>
                <input type="text" id="nombre" required placeholder="Tu nombre completo">

                <label for="correo">Email</label>
                <input type="email" id="correo" required placeholder="ejemplo@correo.cl">

                <label for="rut">RUT chileno</label>
                <input type="text" id="rut" required placeholder="12345678-9" maxlength="12">
                <small class="ayuda-texto">Formato: 12345678-9</small>
            </div>

            <!-- Ubicación -->
            <div class="grupo-campos">
                <label for="region">Región</label>
                <select id="region" required>
                    <option value="">Selecciona región</option>
                    <!-- se cargan dinámicamente con JS -->
                </select>

                <label for="comuna">Comuna</label>
                <select id="comuna" required>
                    <option value="">Selecciona comuna</option>
                    <!-- se cargan según la región seleccionada -->
                </select>
            </div>

            <!-- Botón guardar -->
            <button type="submit" class="btn-guardar">Guardar cambios</button>
        </form>
    </section>

<!-- Mis eventos (si es admin) o eventos confirmados (si es usuario)-->
    <section id="mis-eventos">
        <h2 id="titulo-eventos">Mis Eventos</h2>
        <div class="lista-eventos-perfil" id="lista-eventos-perfil">
            <!-- se cargan dinámicamente según el rol -->
        </div>
    </section>


    <!--    Historial de actividades del usuario-->
    <section id="historial-usuario">
        <h2>Mi Actividad</h2>
        <div class="actividades-recientes">
            <div class="actividad-item">
                <span class="fecha-actividad">Hoy</span>
                <span class="desc-actividad">Iniciaste sesión</span>
            </div>
            <!-- se cargan dinámicamente -->
        </div>
    </section>


    <!-- Sección de estadísticas del usuario -->
    <section id="stats-usuario">
        <h2>Mis Estadísticas</h2>
        <div class="contenedor-stats">
            <div class="stat-card">
                <span class="numero-stat" id="eventos-asistidos">0</span>
                <span class="label-stat">Eventos a los que voy</span>
            </div>
            <div class="stat-card">
                <span class="numero-stat" id="eventos-creados">0</span>
                <span class="label-stat">Eventos creados</span>
            </div>
            <div class="stat-card">
                <span class="numero-stat" id="total-usuarios">0</span>
                <span class="label-stat">Usuarios registrados</span>
            </div>
        </div>
    </section>



    <!-- Sección de acciones rápidas -->
    <section id="acciones-rapidas">
        <h2>Acciones Rápidas</h2>
        <div class="botones-accion">
            <a href="eventos.html" class="btn-accion">Ver todos los eventos</a>
            <a href="index.html" class="btn-accion">Ir al inicio</a>
            <button class="btn-accion" id="btn-reportes">Ver mis reportes</button>
        </div>
    </section>


</main>

<footer>
    <p id="contacto">Contacto: <a id="mail" href="mailto:eventoschile@gmail.com">eventoschile@gmail.com</a></p>
    <p><a id="Ftnosotros" href="index.html">Acerca de Nosotros</a></p>
</footer>

<!-- Scripts JS -->
<script src="js/perfil_admin.js"></script>

</body>
</html>
